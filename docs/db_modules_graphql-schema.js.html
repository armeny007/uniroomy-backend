

<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>JSDoc: db/modules/graphql-schema.js</title>

    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="./build/entry.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Muli:100,400,700|Oswald:300|Inconsolata,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
    <link type="text/css" rel="stylesheet" href="styles/app.min.css">
</head>

<body>
    <div id="stickyNavbarOverlay"></div>
    <div class="top-navbar">
        <div class="container">
            <nav class="navbar" role="navigation" aria-label="main navigation">
                <div class="navbar-brand">
                    
                     
                        <h1 class="navbar-item">UniRoomy Backend API Documentation</h1>
                    
                    <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                    </a>
                </div>
                 
                <div class="navbar-menu">
                    <div class="navbar-end">
                    
                        <div class="navbar-item">
                            <a href="https://github.com/armeny007/uniroomy-backend" target="_blank">GitHub</a>
                        </div>
                    
                        <div class="navbar-item">
                            <a href="https://uniroomy.co.uk:3003/api/graphiql" target="_blank">Live GraphQL demo</a>
                        </div>
                    
                    </div>
                </div>
                
            </nav>
        </div>
    </div>
    <div class="container">
        <div class="columns">
            <div class="column is-3" id="sidebarNav">
                <div class="sidebar">
                    <nav>
                        <h2><a href="index.html">Home</a></h2><div class="category"><h3>Tutorials</h3><ul><li><a href="tutorial-00-usage-examples.html">Usage Examples</a></li><li><a href="tutorial-01-database-schema.html">UniRoomy Database Schema</a></li><li><a href="tutorial-02-graphql-schema.html">UniRoomy GraphQL Schema</a></li><li><a href="tutorial-03-howtorun-instructions.html">How To Run Instructions</a></li><li><a href="tutorial-04-search-houses.html">Search Description</a></li><li><a href="tutorial-05-authentication.html">Authentication</a></li></ul><h3>Modules</h3><ul><li><a href="module-graphql-schema.html">graphql-schema</a></li><li><a href="module-mongoose-schema.html">mongoose-schema</a></li><li><a href="module-person-auth-init.html">person-auth-init</a></li><li><a href="module-server.html">server</a></li></ul></div>
                    </nav>
                </div>
            </div>
            <div class="column is-9-desktop">
                <div class="content" id="main-content-wrapper">
                    <header class="page-title">
                        <p>Source</p>
                        <h1>db/modules/graphql-schema.js</h1>
                    </header>
                    
                    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @module graphql-schema
 * 
 * @description
 * Schema module describes query types and mutations of UniRoomy backend API
 * 
 */

const {
  GraphQLSchema,
  GraphQLObjectType,
  GraphQLInputObjectType,
  GraphQLString,
  GraphQLInt,
  GraphQLList,
  GraphQLID,
  GraphQLBoolean,
  GraphQLFloat,
  GraphQLNonNull,
} = require('graphql');

const {
  GraphQLDate,
  GraphQLTime,
  GraphQLDateTime
} = require('graphql-iso-date');

const { GraphQLUpload } = require('graphql-upload');

const { prepareQueryFields, prepareMutationFields } = require('./graphql-schema-init');

const maxReturnedRows = parseInt(process.env.MAX_RETURNED_ROWS, 10) || 50;

const {
  University,
  Person,
  Ticket,
  Role,
  Student,
  Status,
  Landlord,
  LandlordKind,
  House,
  HouseKind,
  HousePhoto,
  BedroomPhoto,
  FactGroup,
  HouseFact,
  HouseUniversity,
  Bedroom,
  Category,
  Element,
  ElementPreference,
  Achievement,
  StudentAchievement,
  Review,
  ReviewHouseElement,
  HouseElement,
  Notification,
  Bill,
  HouseBill,
  FavoriteHouse
} = require('./mongoose-schema');

const UniversityType = new GraphQLObjectType({
  name: 'University',
  description: 'Represents university.',
  fields: () => ({
    _id: { type: GraphQLInt  },
    name: { type: GraphQLString  },
    city: { type: GraphQLString  },

    houseUniversities: {
      type: new GraphQLList(HouseUniversityType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await HouseUniversity.find({university_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    students: {
      type: new GraphQLList(StudentType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Student.find({university_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const UniversityInput = new GraphQLInputObjectType({
  name: 'UniversityInput',
  description: 'Input fields for university',
  fields: {
    name: { type: new GraphQLNonNull(GraphQLString)  },
    city: { type: GraphQLString  },
  }
});

const PersonType = new GraphQLObjectType({
  name: 'Person',
  description: 'Represents person. Contains common fields for different roles (student/landlord).',
  fields: () => ({
    _id: { type: GraphQLInt  },
    first_name: { type: GraphQLString  },
    last_name: { type: GraphQLString  },
    birthday: { type: GraphQLDate  },
    email: { type: GraphQLString  },
    role_id: { type: GraphQLInt  },
    password: { type: GraphQLString  },
    is_admin: { type: GraphQLBoolean  },
    created_at: { type: GraphQLDateTime  },
    updated_at: { type: GraphQLDateTime  },

    role: {
      type: RoleType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Role.findOne({_id: parent.role_id})
      },
    },
    students: {
      type: new GraphQLList(StudentType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Student.find({_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    landlords: {
      type: new GraphQLList(LandlordType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Landlord.find({_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    tickets: {
      type: new GraphQLList(TicketType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Ticket.find({person_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    notifications: {
      type: new GraphQLList(NotificationType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Notification.find({person_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const PersonInput = new GraphQLInputObjectType({
  name: 'PersonInput',
  description: '',
  fields: {
    first_name: { type: new GraphQLNonNull(GraphQLString)  },
    last_name: { type: GraphQLString  },
    birthday: { type: GraphQLDate  },
    email: { type: new GraphQLNonNull(GraphQLString)  },
    password: { type: GraphQLString  },
    is_admin: { type: GraphQLBoolean  },
    created_at: { type: GraphQLDateTime  },
    updated_at: { type: GraphQLDateTime  },
  }
});

const TicketType = new GraphQLObjectType({
  name: 'Ticket',
  description: 'Represent ticket created by person',
  fields: () => ({
    _id: { type: GraphQLInt  },
    message: { type: GraphQLString  },
    person_id: { type: GraphQLInt  },
    created_at: { type: GraphQLDateTime  },

    person: {
      type: PersonType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Person.findOne({_id: parent.person_id})
      },
    },

  }),
});

const TicketInput = new GraphQLInputObjectType({
  name: 'TicketInput',
  description: '',
  fields: {
    message: { type: new GraphQLNonNull(GraphQLString)  },
    person_id: { type: new GraphQLNonNull(GraphQLInt)  },
    created_at: { type: GraphQLDateTime  },
  }
});

const RoleType = new GraphQLObjectType({
  name: 'Role',
  description: 'Represents UniRoomy person role. 1 - student, 2 - landlord',
  fields: () => ({
    _id: { type: GraphQLInt  },
    name: { type: GraphQLString  },

    persons: {
      type: new GraphQLList(PersonType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Person.find({role_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const RoleInput = new GraphQLInputObjectType({
  name: 'RoleInput',
  description: '',
  fields: {
    name: { type: new GraphQLNonNull(GraphQLString)  },
  }
});

const StudentType = new GraphQLObjectType({
  name: 'Student',
  description: 'Represents student',
  fields: () => ({
    _id: { type: GraphQLInt  },
    university_id: { type: GraphQLInt  },
    status_id: { type: GraphQLInt  },
    verified: { type: GraphQLBoolean  },
    tokens: { type: GraphQLInt  },

    person: {
      type: PersonType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Person.findOne({_id: parent._id})
      },
    },
    university: {
      type: UniversityType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await University.findOne({_id: parent.university_id})
      },
    },
    status: {
      type: StatusType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Status.findOne({_id: parent.status_id})
      },
    },
    reviews: {
      type: new GraphQLList(ReviewType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Review.find({student_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    studentAchievements: {
      type: new GraphQLList(StudentAchievementType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await StudentAchievement.find({student_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    favoriteHouses: {
      type: new GraphQLList(FavoriteHouseType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await FavoriteHouse.find({student_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    elementPreferences: {
      type: new GraphQLList(ElementPreferenceType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await ElementPreference.find({student_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const StudentInput = new GraphQLInputObjectType({
  name: 'StudentInput',
  description: '',
  fields: {
    university_id: { type: GraphQLInt  },
    status_id: { type: GraphQLInt  },
    verified: { type: GraphQLBoolean  },
    tokens: { type: GraphQLInt  },
    person : { type: PersonInput }
  }
});

const StatusType = new GraphQLObjectType({
  name: 'Status',
  description: 'Represents student status: 1 - Not a Student, 2 - Prospective Student, 3 - Undergraduate Student, 4 - Graduated Student',
  fields: () => ({
    _id: { type: GraphQLInt  },
    name: { type: GraphQLString  },

    students: {
      type: new GraphQLList(StudentType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Student.find({status_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const StatusInput = new GraphQLInputObjectType({
  name: 'StatusInput',
  description: '',
  fields: {
    name: { type: new GraphQLNonNull(GraphQLString)  },
  }
});

const LandlordType = new GraphQLObjectType({
  name: 'Landlord',
  description: 'Represents landlord',
  fields: () => ({
    _id: { type: GraphQLInt  },
    landlord_kind_id: { type: GraphQLInt  },
    company_name: { type: GraphQLString  },
    responsible_for_houses: { type: GraphQLInt  },
    responsible_for_beds: { type: GraphQLInt  },
    contact_name: { type: GraphQLString  },
    contact_number: { type: GraphQLString  },

    person: {
      type: PersonType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Person.findOne({_id: parent._id})
      },
    },
    landlord_kind: {
      type: LandlordKindType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await LandlordKind.findOne({_id: parent.landlord_kind_id})
      },
    },
    houses: {
      type: new GraphQLList(HouseType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await House.find({landlord_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const LandlordInput = new GraphQLInputObjectType({
  name: 'LandlordInput',
  description: '',
  fields: {
    landlord_kind_id: { type: GraphQLInt  },
    company_name: { type: GraphQLString  },
    responsible_for_houses: { type: GraphQLInt  },
    responsible_for_beds: { type: GraphQLInt  },
    contact_name: { type: GraphQLString  },
    contact_number: { type: GraphQLString  },
    person : { type: PersonInput }
  }
});

const LandlordKindType = new GraphQLObjectType({
  name: 'LandlordKind',
  description: 'Type of Landlord: 1 - Landlord, 2 - Property Developer, 3 - Letting Agency, 4 - University',
  fields: () => ({
    _id: { type: GraphQLInt  },
    name: { type: GraphQLString  },

    landlords: {
      type: new GraphQLList(LandlordType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Landlord.find({landlord_kind_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const LandlordKindInput = new GraphQLInputObjectType({
  name: 'LandlordKindInput',
  description: '',
  fields: {
    name: { type: new GraphQLNonNull(GraphQLString)  },
  }
});

const HouseType = new GraphQLObjectType({
  name: 'House',
  description: 'Represents house',
  fields: () => ({
    _id: { type: GraphQLInt  },
    landlord_id: { type: GraphQLInt  },
    name: { type: GraphQLString  },
    description: { type: GraphQLString  },
    house_kind_id: { type: GraphQLInt  },
    city: { type: GraphQLString  },
    street: { type: GraphQLString  },
    zip: { type: GraphQLString  },
    address: { type: GraphQLString  },
    bathes: { type: GraphQLInt  },
    rating: { type: GraphQLFloat  },

    landlord: {
      type: LandlordType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Landlord.findOne({_id: parent.landlord_id})
      },
    },
    house_kind: {
      type: HouseKindType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await HouseKind.findOne({_id: parent.house_kind_id})
      },
    },
    bedrooms: {
      type: new GraphQLList(BedroomType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Bedroom.find({house_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    houseUniversities: {
      type: new GraphQLList(HouseUniversityType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await HouseUniversity.find({house_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    reviews: {
      type: new GraphQLList(ReviewType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Review.find({house_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    houseFacts: {
      type: new GraphQLList(HouseFactType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await HouseFact.find({house_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    housePhotos: {
      type: new GraphQLList(HousePhotoType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await HousePhoto.find({house_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    houseBills: {
      type: new GraphQLList(HouseBillType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await HouseBill.find({house_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    favoriteHouses: {
      type: new GraphQLList(FavoriteHouseType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await FavoriteHouse.find({house_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    houseElements: {
      type: new GraphQLList(HouseElementType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await HouseElement.find({house_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const HouseInput = new GraphQLInputObjectType({
  name: 'HouseInput',
  description: '',
  fields: {
    landlord_id: { type: new GraphQLNonNull(GraphQLInt)  },
    name: { type: GraphQLString  },
    description: { type: GraphQLString  },
    house_kind_id: { type: GraphQLInt  },
    city: { type: GraphQLString  },
    street: { type: GraphQLString  },
    zip: { type: GraphQLString  },
    address: { type: GraphQLString  },
    bathes: { type: GraphQLInt  },
    rating: { type: GraphQLFloat  },
  }
});

const HouseKindType = new GraphQLObjectType({
  name: 'HouseKind',
  description: '',
  fields: () => ({
    _id: { type: GraphQLInt  },
    name: { type: GraphQLString  },

    houses: {
      type: new GraphQLList(HouseType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await House.find({house_kind_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const HouseKindInput = new GraphQLInputObjectType({
  name: 'HouseKindInput',
  description: '',
  fields: {
    name: { type: GraphQLString  },
  }
});

const HousePhotoType = new GraphQLObjectType({
  name: 'HousePhoto',
  description: 'Represents house photos',
  fields: () => ({
    _id: { type: GraphQLInt  },
    url: { type: GraphQLString  },
    house_id: { type: GraphQLInt  },

    house: {
      type: HouseType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await House.findOne({_id: parent.house_id})
      },
    },

  }),
});

const HousePhotoInput = new GraphQLInputObjectType({
  name: 'HousePhotoInput',
  description: '',
  fields: {
    url: { type: new GraphQLNonNull(GraphQLUpload)  },
    house_id: { type: new GraphQLNonNull(GraphQLInt)  },
  }
});

const BedroomPhotoType = new GraphQLObjectType({
  name: 'BedroomPhoto',
  description: 'Represents house photos',
  fields: () => ({
    _id: { type: GraphQLInt  },
    url: { type: GraphQLString  },
    bedroom_id: { type: GraphQLInt  },

    bedroom: {
      type: BedroomType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Bedroom.findOne({_id: parent.bedroom_id})
      },
    },

  }),
});

const BedroomPhotoInput = new GraphQLInputObjectType({
  name: 'BedroomPhotoInput',
  description: '',
  fields: {
    url: { type: new GraphQLNonNull(GraphQLString)  },
    bedroom_id: { type: new GraphQLNonNull(GraphQLInt)  },
  }
});

const FactGroupType = new GraphQLObjectType({
  name: 'FactGroup',
  description: 'Group of facts',
  fields: () => ({
    _id: { type: GraphQLInt  },
    name: { type: GraphQLString  },

    elements: {
      type: new GraphQLList(ElementType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Element.find({fact_group_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const FactGroupInput = new GraphQLInputObjectType({
  name: 'FactGroupInput',
  description: '',
  fields: {
    name: { type: new GraphQLNonNull(GraphQLString)  },
  }
});

const HouseFactType = new GraphQLObjectType({
  name: 'HouseFact',
  description: 'Represents fact about a house',
  fields: () => ({
    _id: { type: GraphQLInt  },
    house_id: { type: GraphQLInt  },
    element_id: { type: GraphQLInt  },

    house: {
      type: HouseType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await House.findOne({_id: parent.house_id})
      },
    },
    element: {
      type: ElementType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Element.findOne({_id: parent.element_id})
      },
    },

  }),
});

const HouseFactInput = new GraphQLInputObjectType({
  name: 'HouseFactInput',
  description: '',
  fields: {
    house_id: { type: new GraphQLNonNull(GraphQLInt)  },
    element_id: { type: new GraphQLNonNull(GraphQLInt)  },
  }
});

const HouseUniversityType = new GraphQLObjectType({
  name: 'HouseUniversity',
  description: 'For wich university the house is available for search',
  fields: () => ({
    _id: { type: GraphQLInt  },
    house_id: { type: GraphQLInt  },
    university_id: { type: GraphQLInt  },
    commute_time_by_car: { type: GraphQLInt  },
    commute_time_by_walk: { type: GraphQLInt  },
    commute_time_by_bus: { type: GraphQLInt  },

    house: {
      type: HouseType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await House.findOne({_id: parent.house_id})
      },
    },
    university: {
      type: UniversityType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await University.findOne({_id: parent.university_id})
      },
    },

  }),
});

const HouseUniversityInput = new GraphQLInputObjectType({
  name: 'HouseUniversityInput',
  description: '',
  fields: {
    house_id: { type: new GraphQLNonNull(GraphQLInt)  },
    university_id: { type: new GraphQLNonNull(GraphQLInt)  },
    commute_time_by_car: { type: GraphQLInt  },
    commute_time_by_walk: { type: GraphQLInt  },
    commute_time_by_bus: { type: GraphQLInt  },
  }
});

const BedroomType = new GraphQLObjectType({
  name: 'Bedroom',
  description: 'Bedroom of a house',
  fields: () => ({
    _id: { type: GraphQLInt  },
    house_id: { type: GraphQLInt  },
    name: { type: GraphQLString  },
    beds: { type: GraphQLInt  },
    baths: { type: GraphQLInt  },
    weekly_price: { type: GraphQLFloat  },
    monthly_price: { type: GraphQLFloat  },
    rating: { type: GraphQLFloat  },
    contract_length: { type: GraphQLInt  },
    contract_starts: { type: GraphQLDate  },
    contract_ends: { type: GraphQLDate  },
    occupied: { type: GraphQLBoolean  },

    house: {
      type: HouseType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await House.findOne({_id: parent.house_id})
      },
    },
    bedroomPhotos: {
      type: new GraphQLList(BedroomPhotoType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await BedroomPhoto.find({bedroom_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const BedroomInput = new GraphQLInputObjectType({
  name: 'BedroomInput',
  description: '',
  fields: {
    house_id: { type: new GraphQLNonNull(GraphQLInt)  },
    name: { type: GraphQLString  },
    beds: { type: GraphQLInt  },
    baths: { type: GraphQLInt  },
    weekly_price: { type: GraphQLFloat  },
    monthly_price: { type: GraphQLFloat  },
    rating: { type: GraphQLFloat  },
    contract_length: { type: GraphQLInt  },
    contract_starts: { type: GraphQLDate  },
    contract_ends: { type: GraphQLDate  },
    occupied: { type: GraphQLBoolean  },
  }
});

const CategoryType = new GraphQLObjectType({
  name: 'Category',
  description: 'Category of element',
  fields: () => ({
    _id: { type: GraphQLInt  },
    name: { type: GraphQLString  },

    elements: {
      type: new GraphQLList(ElementType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Element.find({category_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const CategoryInput = new GraphQLInputObjectType({
  name: 'CategoryInput',
  description: '',
  fields: {
    name: { type: new GraphQLNonNull(GraphQLString)  },
  }
});

const ElementType = new GraphQLObjectType({
  name: 'Element',
  description: 'Represents element. Element describes one of characteristics of a house.',
  fields: () => ({
    _id: { type: GraphQLInt  },
    name: { type: GraphQLString  },
    category_id: { type: GraphQLInt  },
    fact_group_id: { type: GraphQLInt  },
    is_fact: { type: GraphQLInt  },
    fact_group_sort_order: { type: GraphQLInt  },
    category_sort_order: { type: GraphQLInt  },

    category: {
      type: CategoryType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Category.findOne({_id: parent.category_id})
      },
    },
    fact_group: {
      type: FactGroupType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await FactGroup.findOne({_id: parent.fact_group_id})
      },
    },
    reviewHouseElements: {
      type: new GraphQLList(ReviewHouseElementType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await ReviewHouseElement.find({element_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    elementPreferences: {
      type: new GraphQLList(ElementPreferenceType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await ElementPreference.find({element_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    houseElements: {
      type: new GraphQLList(HouseElementType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await HouseElement.find({element_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },

    houseFacts: {
      type: new GraphQLList(HouseFactType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await HouseFact.find({element_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const ElementInput = new GraphQLInputObjectType({
  name: 'ElementInput',
  description: '',
  fields: {
    name: { type: new GraphQLNonNull(GraphQLString)  },
    category_id: { type: new GraphQLNonNull(GraphQLInt)  },
    fact_group_id: { type: GraphQLInt  },
    is_fact: { type: GraphQLInt  },
    fact_group_sort_order: { type: GraphQLInt  },
    category_sort_order: { type: GraphQLInt  },
  }
});

const ElementPreferenceType = new GraphQLObjectType({
  name: 'ElementPreference',
  description: '',
  fields: () => ({
    _id: { type: GraphQLInt  },
    student_id: { type: GraphQLInt  },
    element_id: { type: GraphQLInt  },
    element_weight: { type: GraphQLFloat  },
    value: { type: GraphQLInt  },

    student: {
      type: StudentType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Student.findOne({_id: parent.student_id})
      },
    },
    element: {
      type: ElementType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Element.findOne({_id: parent.element_id})
      },
    },

  }),
});

const ElementPreferenceInput = new GraphQLInputObjectType({
  name: 'ElementPreferenceInput',
  description: '',
  fields: {
    student_id: { type: new GraphQLNonNull(GraphQLInt)  },
    element_id: { type: new GraphQLNonNull(GraphQLInt)  },
    element_weight: { type: GraphQLFloat  },
    value: { type: GraphQLInt  },
  }
});

const AchievementType = new GraphQLObjectType({
  name: 'Achievement',
  description: 'Represents possible achievement',
  fields: () => ({
    _id: { type: GraphQLInt  },
    name: { type: GraphQLString  },

    studentAchievements: {
      type: new GraphQLList(StudentAchievementType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await StudentAchievement.find({achievement_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const AchievementInput = new GraphQLInputObjectType({
  name: 'AchievementInput',
  description: '',
  fields: {
    name: { type: new GraphQLNonNull(GraphQLString)  },
  }
});

const StudentAchievementType = new GraphQLObjectType({
  name: 'StudentAchievement',
  description: 'Represents an achievement of a student',
  fields: () => ({
    _id: { type: GraphQLInt  },
    student_id: { type: GraphQLInt  },
    achievement_id: { type: GraphQLInt  },
    created_at: { type: GraphQLDateTime  },

    student: {
      type: StudentType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Student.findOne({_id: parent.student_id})
      },
    },
    achievement: {
      type: AchievementType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Achievement.findOne({_id: parent.achievement_id})
      },
    },

  }),
});

const StudentAchievementInput = new GraphQLInputObjectType({
  name: 'StudentAchievementInput',
  description: '',
  fields: {
    student_id: { type: new GraphQLNonNull(GraphQLInt)  },
    achievement_id: { type: new GraphQLNonNull(GraphQLInt)  },
    created_at: { type: GraphQLDateTime  },
  }
});

const ReviewType = new GraphQLObjectType({
  name: 'Review',
  description: 'Represents review of a house',
  fields: () => ({
    _id: { type: GraphQLInt  },
    student_id: { type: GraphQLInt  },
    house_id: { type: GraphQLInt  },
    description: { type: GraphQLString  },
    house_rating: { type: GraphQLInt  },
    created_at: { type: GraphQLDate  },

    student: {
      type: StudentType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Student.findOne({_id: parent.student_id})
      },
    },
    house: {
      type: HouseType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await House.findOne({_id: parent.house_id})
      },
    },
    reviewHouseElements: {
      type: new GraphQLList(ReviewHouseElementType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await ReviewHouseElement.find({review_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const ReviewInput = new GraphQLInputObjectType({
  name: 'ReviewInput',
  description: '',
  fields: {
    student_id: { type: new GraphQLNonNull(GraphQLInt)  },
    house_id: { type: new GraphQLNonNull(GraphQLInt)  },
    description: { type: new GraphQLNonNull(GraphQLString)  },
    house_rating: { type: new GraphQLNonNull(GraphQLInt)  },
    created_at: { type: GraphQLDate  },
  }
});

const ReviewHouseElementType = new GraphQLObjectType({
  name: 'ReviewHouseElement',
  description: 'Represents an element of review of a house',
  fields: () => ({
    _id: { type: GraphQLInt  },
    review_id: { type: GraphQLInt  },
    element_id: { type: GraphQLInt  },
    element_rating: { type: GraphQLString  },
    reviewer_element_weight: { type: GraphQLInt  },

    review: {
      type: ReviewType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Review.findOne({_id: parent.review_id})
      },
    },
    element: {
      type: ElementType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Element.findOne({_id: parent.element_id})
      },
    },

  }),
});

const ReviewHouseElementInput = new GraphQLInputObjectType({
  name: 'ReviewHouseElementInput',
  description: '',
  fields: {
    review_id: { type: new GraphQLNonNull(GraphQLInt)  },
    element_id: { type: new GraphQLNonNull(GraphQLInt)  },
    element_rating: { type: new GraphQLNonNull(GraphQLString)  },
    reviewer_element_weight: { type: GraphQLInt  },
  }
});

const HouseElementType = new GraphQLObjectType({
  name: 'HouseElement',
  description: '',
  fields: () => ({
    _id: { type: GraphQLInt  },
    element_id: { type: GraphQLInt  },
    house_id: { type: GraphQLInt  },
    normalized_average_rating: { type: GraphQLFloat  },

    element: {
      type: ElementType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Element.findOne({_id: parent.element_id})
      },
    },
    house: {
      type: HouseType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await House.findOne({_id: parent.house_id})
      },
    },

  }),
});

const HouseElementInput = new GraphQLInputObjectType({
  name: 'HouseElementInput',
  description: '',
  fields: {
    element_id: { type: new GraphQLNonNull(GraphQLInt)  },
    house_id: { type: new GraphQLNonNull(GraphQLInt)  },
    normalized_average_rating: { type: GraphQLFloat  },
  }
});

const NotificationType = new GraphQLObjectType({
  name: 'Notification',
  description: 'Represents notification of a person',
  fields: () => ({
    _id: { type: GraphQLInt  },
    person_id: { type: GraphQLInt  },
    title: { type: GraphQLString  },
    subtitle: { type: GraphQLString  },
    full_description: { type: GraphQLString  },
    action: { type: GraphQLString  },
    read: { type: GraphQLBoolean  },

    person: {
      type: PersonType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Person.findOne({_id: parent.person_id})
      },
    },

  }),
});

const NotificationInput = new GraphQLInputObjectType({
  name: 'NotificationInput',
  description: '',
  fields: {
    person_id: { type: new GraphQLNonNull(GraphQLInt)  },
    title: { type: GraphQLString  },
    subtitle: { type: GraphQLString  },
    full_description: { type: GraphQLString  },
    action: { type: GraphQLString  },
    read: { type: GraphQLBoolean  },
  }
});

const BillType = new GraphQLObjectType({
  name: 'Bill',
  description: 'Represents possible bill wich could be included to rent',
  fields: () => ({
    _id: { type: GraphQLInt  },
    name: { type: GraphQLString  },

    houseBills: {
      type: new GraphQLList(HouseBillType),
      args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await HouseBill.find({bill_id: parent._id}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
      },
    },


  }),
});

const BillInput = new GraphQLInputObjectType({
  name: 'BillInput',
  description: '',
  fields: {
    name: { type: new GraphQLNonNull(GraphQLString)  },
  }
});

const HouseBillType = new GraphQLObjectType({
  name: 'HouseBill',
  description: 'Represents a bill included to rent of a house',
  fields: () => ({
    _id: { type: GraphQLInt  },
    house_id: { type: GraphQLInt  },
    bill_id: { type: GraphQLInt  },

    house: {
      type: HouseType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await House.findOne({_id: parent.house_id})
      },
    },
    bill: {
      type: BillType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Bill.findOne({_id: parent.bill_id})
      },
    },

  }),
});

const HouseBillInput = new GraphQLInputObjectType({
  name: 'HouseBillInput',
  description: '',
  fields: {
    house_id: { type: new GraphQLNonNull(GraphQLInt)  },
    bill_id: { type: new GraphQLNonNull(GraphQLInt)  },
  }
});

const FavoriteHouseType = new GraphQLObjectType({
  name: 'FavoriteHouse',
  description: 'Represents a favorite house of a student',
  fields: () => ({
    _id: { type: GraphQLInt  },
    house_id: { type: GraphQLInt  },
    student_id: { type: GraphQLInt  },

    house: {
      type: HouseType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await House.findOne({_id: parent.house_id})
      },
    },
    student: {
      type: StudentType,
      args: { _id: { type: GraphQLInt }, },
      async resolve(parent, args) {
        return await Student.findOne({_id: parent.student_id})
      },
    },

  }),
});

const FavoriteHouseInput = new GraphQLInputObjectType({
  name: 'FavoriteHouseInput',
  description: '',
  fields: {
    house_id: { type: new GraphQLNonNull(GraphQLInt)  },
    student_id: { type: new GraphQLNonNull(GraphQLInt)  },
  }
});

const queryFields = {
  university: {
    type: UniversityType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await University.findOne({_id: args._id})
    },
  },
  universities: {
    type: new GraphQLList(UniversityType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await University.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  person: {
    type: PersonType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Person.findOne({_id: args._id})
    },
  },
  persons: {
    type: new GraphQLList(PersonType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Person.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  ticket: {
    type: TicketType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Ticket.findOne({_id: args._id})
    },
  },
  tickets: {
    type: new GraphQLList(TicketType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Ticket.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  role: {
    type: RoleType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Role.findOne({_id: args._id})
    },
  },
  roles: {
    type: new GraphQLList(RoleType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Role.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  student: {
    type: StudentType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Student.findOne({_id: args._id})
    },
  },
  students: {
    type: new GraphQLList(StudentType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Student.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  status: {
    type: StatusType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Status.findOne({_id: args._id})
    },
  },
  statuses: {
    type: new GraphQLList(StatusType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Status.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  landlord: {
    type: LandlordType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Landlord.findOne({_id: args._id})
    },
  },
  landlords: {
    type: new GraphQLList(LandlordType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Landlord.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  landlord_kind: {
    type: LandlordKindType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await LandlordKind.findOne({_id: args._id})
    },
  },
  landlord_kinds: {
    type: new GraphQLList(LandlordKindType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await LandlordKind.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  house: {
    type: HouseType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await House.findOne({_id: args._id})
    },
  },
  houses: {
    type: new GraphQLList(HouseType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await House.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  house_kind: {
    type: HouseKindType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HouseKind.findOne({_id: args._id})
    },
  },
  house_kinds: {
    type: new GraphQLList(HouseKindType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HouseKind.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  house_photo: {
    type: HousePhotoType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HousePhoto.findOne({_id: args._id})
    },
  },
  house_photos: {
    type: new GraphQLList(HousePhotoType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HousePhoto.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  bedroom_photo: {
    type: BedroomPhotoType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await BedroomPhoto.findOne({_id: args._id})
    },
  },
  bedroom_photos: {
    type: new GraphQLList(BedroomPhotoType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await BedroomPhoto.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  fact_group: {
    type: FactGroupType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await FactGroup.findOne({_id: args._id})
    },
  },
  fact_groups: {
    type: new GraphQLList(FactGroupType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await FactGroup.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  house_fact: {
    type: HouseFactType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HouseFact.findOne({_id: args._id})
    },
  },
  house_facts: {
    type: new GraphQLList(HouseFactType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HouseFact.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  house_university: {
    type: HouseUniversityType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HouseUniversity.findOne({_id: args._id})
    },
  },
  house_universities: {
    type: new GraphQLList(HouseUniversityType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HouseUniversity.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  bedroom: {
    type: BedroomType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Bedroom.findOne({_id: args._id})
    },
  },
  bedrooms: {
    type: new GraphQLList(BedroomType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Bedroom.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  category: {
    type: CategoryType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Category.findOne({_id: args._id})
    },
  },
  categories: {
    type: new GraphQLList(CategoryType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Category.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  element: {
    type: ElementType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Element.findOne({_id: args._id})
    },
  },
  elements: {
    type: new GraphQLList(ElementType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Element.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  element_preference: {
    type: ElementPreferenceType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await ElementPreference.findOne({_id: args._id})
    },
  },
  element_preferences: {
    type: new GraphQLList(ElementPreferenceType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await ElementPreference.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  achievement: {
    type: AchievementType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Achievement.findOne({_id: args._id})
    },
  },
  achievements: {
    type: new GraphQLList(AchievementType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Achievement.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  student_achievement: {
    type: StudentAchievementType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await StudentAchievement.findOne({_id: args._id})
    },
  },
  student_achievements: {
    type: new GraphQLList(StudentAchievementType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await StudentAchievement.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  review: {
    type: ReviewType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Review.findOne({_id: args._id})
    },
  },
  reviews: {
    type: new GraphQLList(ReviewType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Review.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  review_house_element: {
    type: ReviewHouseElementType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await ReviewHouseElement.findOne({_id: args._id})
    },
  },
  review_house_elements: {
    type: new GraphQLList(ReviewHouseElementType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await ReviewHouseElement.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  house_element: {
    type: HouseElementType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HouseElement.findOne({_id: args._id})
    },
  },
  house_elements: {
    type: new GraphQLList(HouseElementType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HouseElement.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  notification: {
    type: NotificationType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Notification.findOne({_id: args._id})
    },
  },
  notifications: {
    type: new GraphQLList(NotificationType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Notification.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  bill: {
    type: BillType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Bill.findOne({_id: args._id})
    },
  },
  bills: {
    type: new GraphQLList(BillType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await Bill.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  house_bill: {
    type: HouseBillType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HouseBill.findOne({_id: args._id})
    },
  },
  house_bills: {
    type: new GraphQLList(HouseBillType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await HouseBill.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
  favorite_house: {
    type: FavoriteHouseType,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await FavoriteHouse.findOne({_id: args._id})
    },
  },
  favorite_houses: {
    type: new GraphQLList(FavoriteHouseType),
    args: { skip: { type: GraphQLInt }, limit: { type: GraphQLInt }, },
    async resolve(parent, args) {
      return await FavoriteHouse.find({}).skip(args.skip || 0).limit(args.limit || maxReturnedRows);
    },
  },
};

const mutationFields = {
  addUniversity: {
    type: UniversityType,
    args: { input: {type: UniversityInput } },
    async resolve(parent, args) {
      return await University.create(args.input);
    }
  },
  updateUniversity: {
    type: UniversityType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(UniversityInput) },  },
    async resolve(parent, args) {
      return await University.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteUniversity: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await University.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addTicket: {
    type: TicketType,
    args: { input: {type: TicketInput } },
    async resolve(parent, args) {
      return await Ticket.create(args.input);
    }
  },
  updateTicket: {
    type: TicketType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(TicketInput) },  },
    async resolve(parent, args) {
      return await Ticket.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteTicket: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Ticket.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addRole: {
    type: RoleType,
    args: { input: {type: RoleInput } },
    async resolve(parent, args) {
      return await Role.create(args.input);
    }
  },
  updateRole: {
    type: RoleType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(RoleInput) },  },
    async resolve(parent, args) {
      return await Role.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteRole: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Role.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addStudent: {
    type: StudentType,
    args: { input: {type: StudentInput } },
    async resolve(parent, args) {
      if (args.input.person) {
        args.input.person = { ...args.input.person, ...{"role_id":1}};
        const master = await Person.create(args.input.person);
        return await Student.create({_id: master._id, ...args.input});
      }
      return await Student.create(args.input);
    }
  },
  updateStudent: {
    type: StudentType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(StudentInput) },  },
    async resolve(parent, args) {
      if (args.input.person) {
        await Person.findOneAndUpdate({ _id: args._id }, args.input.person, { new: true });
      }
      return await Student.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteStudent: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Student.deleteOne({ _id: args._id });
      await Person.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addStatus: {
    type: StatusType,
    args: { input: {type: StatusInput } },
    async resolve(parent, args) {
      return await Status.create(args.input);
    }
  },
  updateStatus: {
    type: StatusType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(StatusInput) },  },
    async resolve(parent, args) {
      return await Status.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteStatus: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Status.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addLandlord: {
    type: LandlordType,
    args: { input: {type: LandlordInput } },
    async resolve(parent, args) {
      if (args.input.person) {
        args.input.person = { ...args.input.person, ...{"role_id":2}};
        const master = await Person.create(args.input.person);
        return await Landlord.create({_id: master._id, ...args.input});
      }
      return await Landlord.create(args.input);
    }
  },
  updateLandlord: {
    type: LandlordType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(LandlordInput) },  },
    async resolve(parent, args) {
      if (args.input.person) {
        await Person.findOneAndUpdate({ _id: args._id }, args.input.person, { new: true });
      }
      return await Landlord.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteLandlord: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Landlord.deleteOne({ _id: args._id });
      await Person.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addLandlordKind: {
    type: LandlordKindType,
    args: { input: {type: LandlordKindInput } },
    async resolve(parent, args) {
      return await LandlordKind.create(args.input);
    }
  },
  updateLandlordKind: {
    type: LandlordKindType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(LandlordKindInput) },  },
    async resolve(parent, args) {
      return await LandlordKind.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteLandlordKind: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await LandlordKind.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addHouse: {
    type: HouseType,
    args: { input: {type: HouseInput } },
    async resolve(parent, args) {
      return await House.create(args.input);
    }
  },
  updateHouse: {
    type: HouseType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(HouseInput) },  },
    async resolve(parent, args) {
      return await House.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteHouse: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await House.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addHouseKind: {
    type: HouseKindType,
    args: { input: {type: HouseKindInput } },
    async resolve(parent, args) {
      return await HouseKind.create(args.input);
    }
  },
  updateHouseKind: {
    type: HouseKindType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(HouseKindInput) },  },
    async resolve(parent, args) {
      return await HouseKind.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteHouseKind: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await HouseKind.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addHousePhoto: {
    type: HousePhotoType,
    args: { input: {type: HousePhotoInput } },
    async resolve(parent, args) {
      return await HousePhoto.create(args.input);
    }
  },
  updateHousePhoto: {
    type: HousePhotoType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(HousePhotoInput) },  },
    async resolve(parent, args) {
      return await HousePhoto.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteHousePhoto: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await HousePhoto.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addBedroomPhoto: {
    type: BedroomPhotoType,
    args: { input: {type: BedroomPhotoInput } },
    async resolve(parent, args) {
      return await BedroomPhoto.create(args.input);
    }
  },
  updateBedroomPhoto: {
    type: BedroomPhotoType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(BedroomPhotoInput) },  },
    async resolve(parent, args) {
      return await BedroomPhoto.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteBedroomPhoto: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await BedroomPhoto.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addFactGroup: {
    type: FactGroupType,
    args: { input: {type: FactGroupInput } },
    async resolve(parent, args) {
      return await FactGroup.create(args.input);
    }
  },
  updateFactGroup: {
    type: FactGroupType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(FactGroupInput) },  },
    async resolve(parent, args) {
      return await FactGroup.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteFactGroup: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await FactGroup.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addHouseFact: {
    type: HouseFactType,
    args: { input: {type: HouseFactInput } },
    async resolve(parent, args) {
      return await HouseFact.create(args.input);
    }
  },
  updateHouseFact: {
    type: HouseFactType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(HouseFactInput) },  },
    async resolve(parent, args) {
      return await HouseFact.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteHouseFact: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await HouseFact.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addHouseUniversity: {
    type: HouseUniversityType,
    args: { input: {type: HouseUniversityInput } },
    async resolve(parent, args) {
      return await HouseUniversity.create(args.input);
    }
  },
  updateHouseUniversity: {
    type: HouseUniversityType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(HouseUniversityInput) },  },
    async resolve(parent, args) {
      return await HouseUniversity.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteHouseUniversity: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await HouseUniversity.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addBedroom: {
    type: BedroomType,
    args: { input: {type: BedroomInput } },
    async resolve(parent, args) {
      return await Bedroom.create(args.input);
    }
  },
  updateBedroom: {
    type: BedroomType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(BedroomInput) },  },
    async resolve(parent, args) {
      return await Bedroom.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteBedroom: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Bedroom.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addCategory: {
    type: CategoryType,
    args: { input: {type: CategoryInput } },
    async resolve(parent, args) {
      return await Category.create(args.input);
    }
  },
  updateCategory: {
    type: CategoryType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(CategoryInput) },  },
    async resolve(parent, args) {
      return await Category.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteCategory: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Category.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addElement: {
    type: ElementType,
    args: { input: {type: ElementInput } },
    async resolve(parent, args) {
      return await Element.create(args.input);
    }
  },
  updateElement: {
    type: ElementType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(ElementInput) },  },
    async resolve(parent, args) {
      return await Element.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteElement: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Element.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addElementPreference: {
    type: ElementPreferenceType,
    args: { input: {type: ElementPreferenceInput } },
    async resolve(parent, args) {
      return await ElementPreference.create(args.input);
    }
  },
  updateElementPreference: {
    type: ElementPreferenceType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(ElementPreferenceInput) },  },
    async resolve(parent, args) {
      return await ElementPreference.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteElementPreference: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await ElementPreference.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addAchievement: {
    type: AchievementType,
    args: { input: {type: AchievementInput } },
    async resolve(parent, args) {
      return await Achievement.create(args.input);
    }
  },
  updateAchievement: {
    type: AchievementType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(AchievementInput) },  },
    async resolve(parent, args) {
      return await Achievement.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteAchievement: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Achievement.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addStudentAchievement: {
    type: StudentAchievementType,
    args: { input: {type: StudentAchievementInput } },
    async resolve(parent, args) {
      return await StudentAchievement.create(args.input);
    }
  },
  updateStudentAchievement: {
    type: StudentAchievementType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(StudentAchievementInput) },  },
    async resolve(parent, args) {
      return await StudentAchievement.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteStudentAchievement: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await StudentAchievement.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addReview: {
    type: ReviewType,
    args: { input: {type: ReviewInput } },
    async resolve(parent, args) {
      return await Review.create(args.input);
    }
  },
  updateReview: {
    type: ReviewType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(ReviewInput) },  },
    async resolve(parent, args) {
      return await Review.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteReview: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Review.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addReviewHouseElement: {
    type: ReviewHouseElementType,
    args: { input: {type: ReviewHouseElementInput } },
    async resolve(parent, args) {
      return await ReviewHouseElement.create(args.input);
    }
  },
  updateReviewHouseElement: {
    type: ReviewHouseElementType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(ReviewHouseElementInput) },  },
    async resolve(parent, args) {
      return await ReviewHouseElement.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteReviewHouseElement: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await ReviewHouseElement.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addHouseElement: {
    type: HouseElementType,
    args: { input: {type: HouseElementInput } },
    async resolve(parent, args) {
      return await HouseElement.create(args.input);
    }
  },
  updateHouseElement: {
    type: HouseElementType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(HouseElementInput) },  },
    async resolve(parent, args) {
      return await HouseElement.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteHouseElement: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await HouseElement.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addNotification: {
    type: NotificationType,
    args: { input: {type: NotificationInput } },
    async resolve(parent, args) {
      return await Notification.create(args.input);
    }
  },
  updateNotification: {
    type: NotificationType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(NotificationInput) },  },
    async resolve(parent, args) {
      return await Notification.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteNotification: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Notification.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addBill: {
    type: BillType,
    args: { input: {type: BillInput } },
    async resolve(parent, args) {
      return await Bill.create(args.input);
    }
  },
  updateBill: {
    type: BillType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(BillInput) },  },
    async resolve(parent, args) {
      return await Bill.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteBill: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await Bill.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addHouseBill: {
    type: HouseBillType,
    args: { input: {type: HouseBillInput } },
    async resolve(parent, args) {
      return await HouseBill.create(args.input);
    }
  },
  updateHouseBill: {
    type: HouseBillType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(HouseBillInput) },  },
    async resolve(parent, args) {
      return await HouseBill.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteHouseBill: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await HouseBill.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
  addFavoriteHouse: {
    type: FavoriteHouseType,
    args: { input: {type: FavoriteHouseInput } },
    async resolve(parent, args) {
      return await FavoriteHouse.create(args.input);
    }
  },
  updateFavoriteHouse: {
    type: FavoriteHouseType,
    args: { _id: { type: GraphQLNonNull(GraphQLInt) }, 
    input: { type: GraphQLNonNull(FavoriteHouseInput) },  },
    async resolve(parent, args) {
      return await FavoriteHouse.findOneAndUpdate({ _id: args._id }, args.input, { new: true });
    }
  },
  deleteFavoriteHouse: {
    type: GraphQLBoolean,
    args: { _id: { type: GraphQLInt }, },
    async resolve(parent, args) {
      const result = await FavoriteHouse.deleteOne({ _id: args._id });
      return result ? !!result.deletedCount : null
    }
  },
};

const uniRoomyGraphQLTypes = {
UniversityType,
  PersonType,
  TicketType,
  RoleType,
  StudentType,
  StatusType,
  LandlordType,
  LandlordKindType,
  HouseType,
  HouseKindType,
  HousePhotoType,
  BedroomPhotoType,
  FactGroupType,
  HouseFactType,
  HouseUniversityType,
  BedroomType,
  CategoryType,
  ElementType,
  ElementPreferenceType,
  AchievementType,
  StudentAchievementType,
  ReviewType,
  ReviewHouseElementType,
  HouseElementType,
  NotificationType,
  BillType,
  HouseBillType,
  FavoriteHouse
};

const RootQuery = new GraphQLObjectType({
  name: 'RootQueryType',
  fields: prepareQueryFields(uniRoomyGraphQLTypes, queryFields),
});

const Mutation = new GraphQLObjectType({
  name: 'Mutation',
  fields: prepareMutationFields(uniRoomyGraphQLTypes, mutationFields),
});

const schema = new GraphQLSchema({
  query: RootQuery,
  mutation: Mutation,
});

module.exports = { schema };
</code></pre>
        </article>
    </section>




                </div>
            </div>
        </div>
    </div>

<footer class="footer">
    <div class="content has-text-centered">
        <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Thu Sep 26 2019 18:32:44 GMT+0300 (GMT+03:00)</p>
        <p class="sidebar-created-by">
            <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
            <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
        </p>
    </div>
</footer>

<script src="scripts/app.min.js"></script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
